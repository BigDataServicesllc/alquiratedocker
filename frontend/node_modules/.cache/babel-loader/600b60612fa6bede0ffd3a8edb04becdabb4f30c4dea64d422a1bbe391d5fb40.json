{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LayoutHeader=_ref=>{let{currentPage,setCurrentPage,setShowLoginModal}=_ref;const[isMenuOpen,setIsMenuOpen]=useState(false);const[user,setUser]=useState(null);const[showUserMenu,setShowUserMenu]=useState(false);const menuRef=useRef(null);const toggleMenu=()=>setIsMenuOpen(!isMenuOpen);const toggleUserMenu=()=>setShowUserMenu(!showUserMenu);useEffect(()=>{const storedUser=localStorage.getItem(\"alquirateUser\");if(storedUser)setUser(JSON.parse(storedUser));},[]);useEffect(()=>{const handleClickOutside=e=>{if(menuRef.current&&!menuRef.current.contains(e.target)){setShowUserMenu(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const handleLogout=()=>{localStorage.removeItem(\"alquirateUser\");window.location.reload();};// Avatar din谩mico por email o photoURL\nconst avatarUrl=user!==null&&user!==void 0&&user.photoURL?user.photoURL:user!==null&&user!==void 0&&user.email?\"https://api.dicebear.com/7.x/initials/svg?seed=\".concat(encodeURIComponent(user.email)):'https://ui-avatars.com/api/?name=User';return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm fixed top-0 left-0 right-0 z-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-blue-600 cursor-pointer\",onClick:()=>setCurrentPage('home'),children:[\"Alqui\",/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:\"Rate\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"hidden md:block ml-10\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex space-x-6\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('home'),className:\"text-gray-600 hover:text-blue-600 transition-colors \".concat(currentPage==='home'?'font-semibold text-blue-600':''),children:\"Inicio\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('rankings'),className:\"text-gray-600 hover:text-blue-600 transition-colors \".concat(currentPage==='rankings'?'font-semibold text-blue-600':''),children:\"Rankings\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage('addReview'),className:\"text-gray-600 hover:text-blue-600 transition-colors \".concat(currentPage==='addReview'?'font-semibold text-blue-600':''),children:\"Calificar\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 relative\",children:[user?/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:menuRef,children:[/*#__PURE__*/_jsx(\"img\",{src:avatarUrl,alt:\"avatar\",className:\"w-9 h-9 rounded-full cursor-pointer border border-gray-300 bg-white\",onClick:toggleUserMenu}),showUserMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-lg text-sm text-gray-700 z-50\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentPage('myReviews');setShowUserMenu(false);},className:\"block px-4 py-2 hover:bg-gray-100 w-full text-left\",children:\"\\uD83D\\uDCC4 Ver mis calificaciones\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentPage('rankings');setShowUserMenu(false);},className:\"block px-4 py-2 hover:bg-gray-100 w-full text-left\",children:\"\\uD83D\\uDD0D Ver calificaciones\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"block px-4 py-2 text-red-600 hover:bg-gray-100 w-full text-left\",children:\"\\uD83D\\uDEAA Cerrar sesi\\xF3n\"})]})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLoginModal(true),className:\"hidden md:inline-block bg-blue-600 text-white font-medium px-4 py-2 rounded-lg shadow hover:bg-blue-700 hover:shadow-md transition-all\",children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleMenu,className:\"md:hidden text-gray-600 focus:outline-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 6h16M4 12h16M4 18h16\"})})})]})]})})});};export default LayoutHeader;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","LayoutHeader","_ref","currentPage","setCurrentPage","setShowLoginModal","isMenuOpen","setIsMenuOpen","user","setUser","showUserMenu","setShowUserMenu","menuRef","toggleMenu","toggleUserMenu","storedUser","localStorage","getItem","JSON","parse","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleLogout","removeItem","window","location","reload","avatarUrl","photoURL","email","concat","encodeURIComponent","className","children","onClick","ref","src","alt","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["/Users/michaelortiz/Documents/alquiratedocker/frontend/src/components/LayoutHeader.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst LayoutHeader = ({ currentPage, setCurrentPage, setShowLoginModal }) => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const menuRef = useRef(null);\n\n  const toggleMenu = () => setIsMenuOpen(!isMenuOpen);\n  const toggleUserMenu = () => setShowUserMenu(!showUserMenu);\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"alquirateUser\");\n    if (storedUser) setUser(JSON.parse(storedUser));\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setShowUserMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"alquirateUser\");\n    window.location.reload();\n  };\n\n  // Avatar din谩mico por email o photoURL\n  const avatarUrl = user?.photoURL\n    ? user.photoURL\n    : user?.email\n      ? `https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(user.email)}`\n      : 'https://ui-avatars.com/api/?name=User';\n\n  return (\n    <header className=\"bg-white shadow-sm fixed top-0 left-0 right-0 z-10\">\n      <div className=\"container mx-auto px-4 py-3\">\n        <div className=\"flex justify-between items-center\">\n          {/* Logo + navegaci贸n */}\n          <div className=\"flex items-center\">\n            <h1\n              className=\"text-2xl font-bold text-blue-600 cursor-pointer\"\n              onClick={() => setCurrentPage('home')}\n            >\n              Alqui<span className=\"text-gray-800\">Rate</span>\n            </h1>\n            <nav className=\"hidden md:block ml-10\">\n              <ul className=\"flex space-x-6\">\n                <li>\n                  <button onClick={() => setCurrentPage('home')} className={`text-gray-600 hover:text-blue-600 transition-colors ${currentPage === 'home' ? 'font-semibold text-blue-600' : ''}`}>Inicio</button>\n                </li>\n                <li>\n                  <button onClick={() => setCurrentPage('rankings')} className={`text-gray-600 hover:text-blue-600 transition-colors ${currentPage === 'rankings' ? 'font-semibold text-blue-600' : ''}`}>Rankings</button>\n                </li>\n                <li>\n                  <button onClick={() => setCurrentPage('addReview')} className={`text-gray-600 hover:text-blue-600 transition-colors ${currentPage === 'addReview' ? 'font-semibold text-blue-600' : ''}`}>Calificar</button>\n                </li>\n              </ul>\n            </nav>\n          </div>\n\n          {/* Login / Avatar */}\n          <div className=\"flex items-center gap-4 relative\">\n            {user ? (\n              <div className=\"relative\" ref={menuRef}>\n                <img\n                  src={avatarUrl}\n                  alt=\"avatar\"\n                  className=\"w-9 h-9 rounded-full cursor-pointer border border-gray-300 bg-white\"\n                  onClick={toggleUserMenu}\n                />\n                {showUserMenu && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-lg text-sm text-gray-700 z-50\">\n                    <button\n                      onClick={() => {\n                        setCurrentPage('myReviews');\n                        setShowUserMenu(false);\n                      }}\n                      className=\"block px-4 py-2 hover:bg-gray-100 w-full text-left\"\n                    >\n                       Ver mis calificaciones\n                    </button>\n                    <button\n                      onClick={() => {\n                        setCurrentPage('rankings');\n                        setShowUserMenu(false);\n                      }}\n                      className=\"block px-4 py-2 hover:bg-gray-100 w-full text-left\"\n                    >\n                       Ver calificaciones\n                    </button>\n                    <button\n                      onClick={handleLogout}\n                      className=\"block px-4 py-2 text-red-600 hover:bg-gray-100 w-full text-left\"\n                    >\n                       Cerrar sesi贸n\n                    </button>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <button\n                onClick={() => setShowLoginModal(true)}\n                className=\"hidden md:inline-block bg-blue-600 text-white font-medium px-4 py-2 rounded-lg shadow hover:bg-blue-700 hover:shadow-md transition-all\"\n              >\n                Iniciar sesi贸n\n              </button>\n            )}\n\n            {/* Men煤 m贸vil */}\n            <button onClick={toggleMenu} className=\"md:hidden text-gray-600 focus:outline-none\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 6h16M4 12h16M4 18h16\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default LayoutHeader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}